version: '3.1'

intents:
- out_of_scope
- affirm
- bot_challenge
- deny
- goodbye
- greet
- mood_great
- mood_unhappy
- name_guest
- reservation_init
- table_size
- table_time
- table_type
- faq_days
- faq_cancel

responses:
  utter_greet:
  - text: Hi, I'm Sam at Burg-Hain, would you like to make a reservation right now?
  utter_success:
  - text: Perfect! Your table has been reserved
  utter_failure:
  - text: Unfortunately we do not have this table available. Would you like to try searching for something different?
  utter_cheer_up:
  - text: 'Here is something to cheer you up:'
    image: https://i.imgur.com/nGF1K8f.jpg
  utter_did_that_help:
  - text: Did that help you?
  utter_ask_name:
  - text: Can I get a name for the reservation?
  utter_happy:
  - text: Great, carry on!
  utter_goodbye:
  - text: Goodbye, thanks for calling Burg-hain
  utter_iamabot:
  - text: I am a bot, powered by Rasa.
  utter_ask_size:
  - text: How many people do want to reserve for?
  utter_ask_time:
  - text: When do you want your reservation?
  utter_ask_tabletype:
  - text: What type of table do you want?
  utter_slot_values: 
  - text: "Just to confirm: You would like a {tabletype} table at Burg-hain for {size} on {date}, {time}, under the name of {name}. Yes?"
  utter_out_of_scope:
  - text: "Sorry, I'm not sure I understand, would you like to book a table?"
  utter_faq_days:
  - text: "Burg-Hain is open 24 hours a day 7 days a week"
  utter_faq_cancel:
  - text: "To cancel a reservation, simply call us at +49-1234567890 and cancel your reservation."

entities:
- size
- time
- name
- date
- tabletype

slots:
  name:
    type: text
    mappings:
    - type: from_entity
      entity: name
  time:
    type: text
    mappings:
    - type: from_entity
      entity: time
  date:
    type: text
    mappings:
    - type: from_entity
      entity: date
  size:
    type: float
    initial_value: 1
    mappings:
    - type: from_entity
      entity: size
  tabletype:
    type: text
    mappings:
    - type: from_entity
      entity: tabletype

forms:
  reserve_form:
    required_slots:
    - name
    - size
    - time
    - date
    - tabletype

actions:
- action_book_appointment
- action_get_greeting_chatgpt

session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true